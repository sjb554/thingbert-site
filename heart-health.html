<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Cleveland heart disease model lab: cleaning steps, downloads, and roadmap for an interactive risk tool."/>
  <title>Heart Health Lab - Thingbert</title>
  <link rel="stylesheet" href="styles.css?v=20251001">
  <script src="scripts.js?v=20251001" defer></script>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a class="logo" href="index.html">Thingbert</a>
      <button class="nav-toggle" type="button" aria-expanded="false" aria-label="Open navigation">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
      <nav class="site-nav" id="primary-nav">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="projects.html">Projects</a>
        <a href="market.html">Insights</a>
        <a href="heart-health.html" class="active">Heart Health</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container page-content">
    <header class="page-header" data-reveal>
      <span class="eyebrow">Model lab</span>
      <h1>Cleveland Heart Disease Risk Prototype</h1>
      <p>This workspace walks through the full Thingbert pipeline: cleaning the UCI Cleveland dataset, benchmarking two classifiers, and sketching how an interactive risk check could live on the site.</p>
    </header>

    <section class="insight-section" data-reveal>
      <h2>Snapshot</h2>
      <p>We cleaned the Cleveland cohort, converted the target to a simple yes/no heart disease indicator, and stacked two baseline models. The scaled logistic regression pipeline produced the strongest balance of sensitivity and specificity.</p>
      <div class="metrics-grid">
        <div class="metric-card">
          <span class="metric-label">Accuracy</span>
          <h3>0.869</h3>
          <p>Share of correct predictions on the 61-person test set.</p>
        </div>
        <div class="metric-card">
          <span class="metric-label">Split Size</span>
          <h3>242 / 61</h3>
          <p>Training vs. testing rows after an 80/20 stratified split.</p>
        </div>
        <div class="metric-card">
          <span class="metric-label">Precision</span>
          <h3>0.93 / 0.81</h3>
          <p>When the model says "no disease" or "disease", this is how often it is right.</p>
        </div>
        <div class="metric-card">
          <span class="metric-label">Recall</span>
          <h3>0.82 / 0.93</h3>
          <p>How many real negatives/positives the model successfully captured.</p>
        </div>
      </div>
      <p class="metric-explainer">Precision and recall are listed as <em>no disease / disease</em>. Logistic regression kept false negatives (missed disease) to just 2 cases, an improvement over the decision tree&rsquo;s 5.</p>
      <figure class="heatmap-card">
        <img src="assets/heart/heart-disease-correlation.png" alt="Correlation heatmap for the Cleveland heart disease features">
        <figcaption>Heatmap from the cleaned training set shows chest pain type (<code>cp</code>), thallium test result (<code>thal</code>), and ST depression (<code>oldpeak</code>) as leading indicators.</figcaption>
      </figure>
    </section>

    <section class="insight-section" data-reveal data-reveal-delay=".04s">
      <h2>Feature Guide</h2>
      <p>Each row is a person who received a heart disease work-up. Use this glossary to decode the variables and interpret the heatmap.</p>
      <dl class="feature-glossary">
        <div>
          <dt>age</dt>
          <dd>Age in years at the time of the visit.</dd>
        </div>
        <div>
          <dt>sex</dt>
          <dd>Biological sex (1 = male, 0 = female).</dd>
        </div>
        <div>
          <dt>cp</dt>
          <dd>Chest pain type (1 typical angina &rarr; 4 asymptomatic).</dd>
        </div>
        <div>
          <dt>trestbps</dt>
          <dd>Resting blood pressure (mm Hg).</dd>
        </div>
        <div>
          <dt>chol</dt>
          <dd>Serum cholesterol (mg/dL).</dd>
        </div>
        <div>
          <dt>fbs</dt>
          <dd>Fasting blood sugar &gt; 120 mg/dL (1 = true).</dd>
        </div>
        <div>
          <dt>restecg</dt>
          <dd>Resting electrocardiogram (0 = normal, 1 = ST-T abnormality, 2 = probable LV hypertrophy).</dd>
        </div>
        <div>
          <dt>thalach</dt>
          <dd>Maximum heart rate achieved during exercise.</dd>
        </div>
        <div>
          <dt>exang</dt>
          <dd>Exercise-induced angina (1 = yes).</dd>
        </div>
        <div>
          <dt>oldpeak</dt>
          <dd>ST depression induced by exercise relative to rest.</dd>
        </div>
        <div>
          <dt>slope</dt>
          <dd>Slope of the peak exercise ST segment (1 upsloping, 2 flat, 3 downsloping).</dd>
        </div>
        <div>
          <dt>ca</dt>
          <dd>Count of major vessels (0&ndash;3) shown via fluoroscopy.</dd>
        </div>
        <div>
          <dt>thal</dt>
          <dd>Thallium stress-test result (3 normal, 6 fixed defect, 7 reversible defect).</dd>
        </div>
        <div>
          <dt>target</dt>
          <dd>Thingbert label: 1 = heart disease present, 0 = no heart disease.</dd>
        </div>
      </dl>
    </section>

    <section class="insight-section" data-reveal data-reveal-delay=".05s">
      <h2>1. Narrative Summary</h2>
      <p>Use this section as the ready-to-publish briefing. It covers the data hygiene, modeling choices, and model governance hooks.</p>
      <ul class="summary-list">
        <li><strong>Cleaning.</strong> Converted all <code>?</code> markers to missing values, filled numerics with column medians, and binarized the target to <em>present vs. absent</em> disease.</li>
        <li><strong>Modeling.</strong> Trained a scaled logistic regression and a depth-limited decision tree using an 80/20 stratified split (random_state&nbsp;= 42).</li>
        <li><strong>Result.</strong> Logistic regression outperformed, reducing false negatives to 2 on the holdout set while keeping precision above 0.80 for both classes.</li>
        <li><strong>Story hook.</strong> Symptoms captured by chest pain type (<code>cp</code>) and the stress-test results (<code>thal</code>, <code>oldpeak</code>) dominate the risk gradient—prime material for an executive one-pager.</li>
      </ul>
    </section>

    <section class="insight-section" data-reveal data-reveal-delay=".1s">
      <h2>2. Download the Analysis Files</h2>
      <p>Same artifacts we used internally—ideal for replicating the workflow or reviewing the numbers in detail.</p>
      <ul class="resource-list">
        <li class="resource-item">
          <a href="assets/heart/heart-disease-clean.csv" download>
            <span class="resource-title">Cleaned dataset (CSV)</span>
            <span class="resource-meta">303 rows × 14 columns, target already binarized</span>
          </a>
        </li>
        <li class="resource-item">
          <a href="assets/heart/heart-disease-model-report.txt" download>
            <span class="resource-title">Model comparison notes (TXT)</span>
            <span class="resource-meta">Accuracy, precision/recall, confusion matrices</span>
          </a>
        </li>
        <li class="resource-item">
          <a href="assets/heart/heart-disease-correlation.png" download>
            <span class="resource-title">Correlation heatmap (PNG)</span>
            <span class="resource-meta">Visual guide to feature relationships</span>
          </a>
        </li>
      </ul>
    </section>

    <section class="insight-section" data-reveal data-reveal-delay=".15s">
      <h2>3. Interactive Prototype Roadmap</h2>
      <p>Ready to turn this into an on-site estimator? These steps outline the lift.</p>
      <ol class="roadmap-list">
        <li>Expose an API (FastAPI or Flask) that loads the serialized logistic regression pipeline and validates user inputs.</li>
        <li>Design a lightweight intake form (age, sex, chest pain type, vitals, exercise response) that mirrors the model features.</li>
        <li>Return risk probabilities with guardrails: flag inputs outside training ranges, display calibration notes, and surface the confusion matrix for context.</li>
        <li>Add analytics tracking to gauge engagement and iterate on the question flow before promoting broadly.</li>
      </ol>
      <p class="roadmap-note">The trained pipeline lives in the working repo at <code>heart_disease/heart_disease_model.pkl</code>. Wire it into a microservice when you are ready to test the interaction.</p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>&copy; 2025 Thingbert. All rights reserved.</small>
    </div>
  </footer>
</body>
</html>
